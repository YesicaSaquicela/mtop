<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ocp="http://java.sun.com/jsf/composite/ocpcommon"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:s="http://jboss.org/seam/faces"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">

    <ui:composition template="/WEB-INF/view/templates/glue.xhtml">
        <f:metadata>
            <f:viewParam name="organizationId" value="#{organizationHome.organizationId}" />                

        </f:metadata>
        <ui:param name="title" value="#{organizationHome.instance.name}" />
        <ui:define name="header-replace">
            <div style="width: 100%; background-color: #FFF5E3; margin-bottom: 10px; ">
                <div class="container">
                    <div class="row fluid" style="margin-top: 5px;">
                        <div class="span9 ">
                            <h2>#{organizationHome.managed ? organizationHome.instance.name : ""}</h2>
                            <p><span style="">#{messages['common.ruc']} #{organizationHome.instance.ruc}</span>                                

                            </p>
                        </div>

                        <div class="span3 ">
                            <h:form id="control">                                
                                <h:link outcome="organization" styleClass="btn" value="#{messages['common.edit']} #{messages['module.organization']}" rendered="true">
                                    <f:param name="organizationId" value="#{organizationHome.instance.id}"/>
                                </h:link>
                                <br/>
                                <h:link outcome="list" styleClass="btn secondary" value="#{messages['common.cancel']}">
                                </h:link>
                            </h:form>
                        </div>

                    </div>
                </div></div>             
        </ui:define>

        <ui:define name="content">
            <h:form id="summary">
                <c:forEach items="#{organizationHome.instance.owners}" var="o" >
                    <p:panel header="#{o.name}" toggleable="true" closable="false" toggleSpeed="0" closeSpeed="0" widgetVar="panel#{o.name}">
                        <f:facet name="header">
                            <strong>#{o.name}</strong>#{' '}

                        </f:facet>
                        <c:choose>                        

                            <c:when test="#{empty o}">
                                <p:dataTable id="theme" var="m" value="#{o.themes}" 
                                             editable="false" 
                                             emptyMessage="#{messages['common.emptyList']}">  

                                    <p:columns value="theme" var="column" columnIndexVar="colIndex"   
                                               sortBy="#{themes.name}">  
                                        <f:facet name="header">  
                                            #{column.header}  
                                        </f:facet>  
                                        <!--#{m.findAttributeValue(column.property)}  -->
                                        <h:outputText value="#{themes.name}" />
                                    </p:columns>
                                    <p:column value="theme" var="column" columnIndexVar="colIndex"   
                                              sortBy="#{themes.code}">
                                        <h:outputText value="#{themes.name}" />
                                    </p:column> 
                                </p:dataTable>
                            </c:when>
                        </c:choose>
                    </p:panel>
                </c:forEach>
            </h:form>
        </ui:define>

        <ui:define name="content">
            <h:form id="form">
                <div class="admin-actions">
                    <h:link value="#{messages['common.add']}" rendered="#{true}" outcome="/pages/management/owner/owner" styleClass="btn primary">                        
                        <f:param name="organizationId" value="#{organizationHome.organizationId}"></f:param>
                    </h:link> 
                </div>
            </h:form>
        </ui:define>

    </ui:composition>
</html>
